<!DOCTYPE html>
<html lang="en">
<head>
    <title>Shopping List</title>
</head>
<body>
    <h1>Shopping List</h1>
    <ul></ul>
    
    <script>
        const electron = require("electron");
        const {ipcRenderer} = electron;
        const ul = document.querySelector("ul");

        // Add new item
        // Catch 'item:add' value from main.js's ipcMain
        ipcRenderer.on('item:add', function(event, item){
            const li = document.createElement('li'); // Create li
            const itemText = document.createTextNode(item); // creat TextNode
            li.appendChild(itemText); // Add TextNode to li
            ul.appendChild(li); // Add li to the ul
        });

        // Clear items => Catch 'item:clear'
        ipcRenderer.on('item:clear', function(){
            ul.innerHTML = '';
        });

        // Remove the double clicked item
        ul.addEventListener('dblclick', removeItem);

        function removeItem(event){
            // Remove the double clicked item from DOM
            event.target.remove();
        }
    </script>        

</body>
</html>

